<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Quick Captioning Sandbox</title>
    <script src="d3.min.js"></script>
    <script src="../../../Others'/d3/d3.js"></script>
    <script src="fermata.min.js"></script>
    <script src="../../../&yet/fermata/fermata.js"></script>
    
    <style>
        #prev, #next { max-width: 64px; max-height: 64px; }
        #main {}
        #description { width: 640px; }
    </style>
</head>
<body>
    <img id="prev"><img id="main"><img id="next"><br>
    <form>
    <input id="description" type="text" placeholder="Briefly describe this photo."><button>Next</button>
    </form>
    
    <script>
        var photoDB = fermata.json("http://localhost:5984")('photos');
        var photosIndexed = photoDB(['_design/shutterstem', '_view']);
        photosIndexed('by_date')({reduce:false, skip: 251, limit:3}).get(function (e, d) {
            function setPhoto(el, row) {
                d3.select("#" + el).node().src = photoDB(row.id)(["thumbnail/512.jpg"])();
            }
            setPhoto("prev", d.rows[0]);
            setPhoto("main", d.rows[1]);
            setPhoto("next", d.rows[2]);
        });
    </script>
</body>
</html>
